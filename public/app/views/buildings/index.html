<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    <span ng-if="constructor">Obras da {{constructor.name}}</span>
    <span ng-if="!constructor">Obras</span>
  </h1>
  <ol class="breadcrumb">
    <li ng-if="constructor"><a href="/#/"><i class="fa fa-dashboard"></i> {{constructor.name}}</a></li>
    <li ng-if="!constructor"><a href="/#/"><i class="fa fa-dashboard"></i> Início</a></li>
    <li class="active">Obras</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <h3 class="box-title">Navegue ou busque a obra desejada</h3>
          <!-- <div class="box-tools">
            <div class="input-group" style="width: 150px;">
              <input type="text" name="table_search" class="form-control input-sm pull-right" placeholder="Search">
              <div class="input-group-btn">
                <button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
              </div>
            </div>
          </div> -->
        </div><!-- /.box-header -->
        <div class="box-body table-responsive no-padding">
          <table class="table table-hover">
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Construtora</th>
              <th>Arquivada?</th>
              <th>Criada em</th>
              <th ng-if="user.type == 'Admin'">Ações</th>
            </tr>
            <tr ng-repeat="entity in entitiesList">
              <td>{{entity.id}}</td>
              <td>{{entity.name}}</td>
              <td>{{entity.constructor_name}}</td>
              <td>{{entity.archived ? 'Arquivada' : 'Ativa'}}</td>
              <td>{{entity.created_at | date: 'short'}}</td>
              <td ng-if="user.type == 'Admin'">
                <a ui-sref="manage.buildings.edit({id:entity.id})" class="btn btn-info btn-flat">Editar</a>
                <a ng-click="deleteEntity(entity)" class="btn btn-warning btn-flat">Remover</a>
              </td>
            </tr>
          </table>
        </div><!-- /.box-body -->
        <div class="box-footer clearfix">
          <a ng-if="constructor && user.type == 'Admin'" ui-sref="manage.buildings.new({constructor_id:constructor.id})" class="pull-right btn btn-default">Nova</a>
        </div>
      </div><!-- /.box -->
    </div>
  </div>
</section><!-- /.content -->