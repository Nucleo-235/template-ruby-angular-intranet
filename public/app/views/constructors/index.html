<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Construtoras
  </h1>
  <ol class="breadcrumb">
    <li><a href="/#/"><i class="fa fa-dashboard"></i> Início</a></li>
    <li class="active">Construtoras</li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <h3 class="box-title">Navegue ou busque a construtora desejada</h3>
          <!-- <div class="box-tools">
            <div class="input-group" style="width: 150px;">
              <input type="text" name="table_search" class="form-control input-sm pull-right" placeholder="Search">
              <div class="input-group-btn">
                <button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
              </div>
            </div>
          </div> -->
        </div><!-- /.box-header -->
        <div class="box-body table-responsive no-padding">
          <table class="table table-hover">
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Arquivada?</th>
              <th>Criada em</th>
              <th>Obras</th>
              <th class="text-center" ng-if="user.type == 'Admin'">Ações</th>
            </tr>
            <tr ng-repeat="constructor in entitiesList">
              <td>{{constructor.id}}</td>
              <td>{{constructor.name}}</td>
              <td>{{constructor.archived ? 'Arquivada' : 'Ativa'}}</td>
              <td>{{constructor.created_at | date: 'short'}}</td>
              <td>
                <a ng-if="constructor.qty_buildings > 0" ui-sref="manage.buildings.index({constructor_id:constructor.id})" class="btn">{{constructor.qty_buildings}}</a>
                </td>
              <td class="text-center" ng-if="user.type == 'Admin'">
                <a ui-sref="manage.buildings.new({constructor_id:constructor.id})" class="btn btn-default btn-flat">Nova Obra</a>
                <a ui-sref="manage.constructors.edit({id:constructor.id})" class="btn btn-info btn-flat">Editar</a>
                <a ng-click="deleteEntity(constructor)" class="btn btn-warning btn-flat">Remover</a>
              </td>
            </tr>
          </table>
        </div><!-- /.box-body -->
        <div class="box-footer clearfix">
          <a ui-sref="manage.constructors.new" class="pull-right btn btn-default" ng-if="user.type == 'Admin'">Nova</a>
        </div>
      </div><!-- /.box -->
    </div>
  </div>
</section><!-- /.content -->